{"version":3,"sources":["webpack:///webpack/bootstrap 6c21c020b14ea3166347","webpack:///./client/index.js","webpack:///./client/whiteboard.js","webpack:///./node_modules/events/events.js"],"names":["on","console","log","draw","events","canvas","document","createElement","ctx","getContext","start","end","strokeColor","shouldBroadcast","beginPath","strokeStyle","moveTo","lineTo","closePath","stroke","emit","color","currentMousePosition","x","y","lastMousePosition","colors","setup","body","appendChild","setupColorPicker","setupCanvas","picker","classList","add","map","marker","dataset","style","backgroundColor","forEach","addEventListener","target","current","querySelector","remove","firstChild","click","resize","setTransform","pixelRatio","window","devicePixelRatio","w","clientWidth","h","clientHeight","width","height","imgData","getImageData","putImageData","scale","lineWidth","lineJoin","lineCap","e","pos","buttons","pageX","offsetLeft","pageY","offsetTop"],"mappings":"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CA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH,oBAAoB,SAAS;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6c21c020b14ea3166347","// Import from the module './whiteboard':\n//   The default export, naming it draw,\n//   An export named `events`, calling it `whiteboard`.\nimport whiteboard, {draw} from './whiteboard'\n\n// Example of listening to draw events:\n//   (This logging will probably get really annoying):\nwhiteboard.on('draw', console.log)\n\n// Example: Draw a single stroke.\ndraw([0, 0], [250, 250], 'red', true)\n\n\n\n// WEBPACK FOOTER //\n// ./client/index.js","'use strict'\n\n/**\n * Creates a whiteboard on the page that the user can scribble on.\n *\n * Exports:\n *   - default draw(from, to, color, shouldBroadcast)\n *   - events: an EventEmitter that emits `draw` events.\n */\n\nimport {EventEmitter} from 'events'\n\nconst events = new EventEmitter()\n\nexport default events\n\n//// Canvas setup\nconst canvas = document.createElement('canvas')\nconst ctx = canvas.getContext('2d')\n\n/**\n * Draw a line on the whiteboard.\n *\n * @param {[Number, Number]} start start point\n * @param {[Number, Number]} end end point\n * @param {String} strokeColor color of the line\n * @param {bool} shouldBroadcast whether to emit an event for this draw\n */\nexport function draw(start, end, strokeColor='black', shouldBroadcast=true) {\n    // Draw the line between the start and end positions\n    // that is colored with the given color.\n    ctx.beginPath();\n    ctx.strokeStyle = strokeColor;\n    ctx.moveTo(...start);\n    ctx.lineTo(...end);\n    ctx.closePath();\n    ctx.stroke();\n\n    // If shouldBroadcast is truthy, we will emit a draw event to listeners\n    // with the start, end and color data.\n    shouldBroadcast &&\n        events.emit('draw', start, end, strokeColor);\n};\n\n// State\n//// Stroke color\nlet color;\n//// Position tracking\nlet currentMousePosition = {\n    x: 0,\n    y: 0\n};\n\nlet lastMousePosition = {\n    x: 0,\n    y: 0\n};\n\n//// Color picker settings\nconst colors = [\n    'black',\n    'purple',\n    'red',\n    'green',\n    'orange',\n    'yellow',\n    'brown',\n]\n\nfunction setup() {\n    document.body.appendChild(canvas)\n\n    setupColorPicker()\n    setupCanvas()\n}\n\nfunction setupColorPicker() {\n    const picker = document.createElement('div')\n    picker.classList.add('color-selector')\n    colors\n        .map(color => {\n            const marker = document.createElement('div')\n            marker.classList.add('marker')\n            marker.dataset.color = color\n            marker.style.backgroundColor = color\n            return marker\n        })\n        .forEach(color => picker.appendChild(color))\n\n    picker.addEventListener('click', ({target}) => {\n        color = target.dataset.color\n        if (!color) return\n        const current = picker.querySelector('.selected')\n        current && current.classList.remove('selected')\n        target.classList.add('selected')\n    })\n\n    document.body.appendChild(picker)\n\n    // Select the first color\n    picker.firstChild.click()\n}\n\n\nfunction resize() {\n    // Unscale the canvas (if it was previously scaled)\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n\n    // The device pixel ratio is the multiplier between CSS pixels\n    // and device pixels\n    var pixelRatio = window.devicePixelRatio || 1;\n\n    // Allocate backing store large enough to give us a 1:1 device pixel\n    // to canvas pixel ratio.\n    var w = canvas.clientWidth * pixelRatio,\n        h = canvas.clientHeight * pixelRatio;\n    if (w !== canvas.width || h !== canvas.height) {\n        // Resizing the canvas destroys the current content.\n        // So, save it...\n        var imgData = ctx.getImageData(0, 0, canvas.width, canvas.height)\n\n        canvas.width = w; canvas.height = h;\n\n        // ...then restore it.\n        ctx.putImageData(imgData, 0, 0)\n    }\n\n    // Scale the canvas' internal coordinate system by the device pixel\n    // ratio to ensure that 1 canvas unit = 1 css pixel, even though our\n    // backing store is larger.\n    ctx.scale(pixelRatio, pixelRatio);\n\n    ctx.lineWidth = 5\n    ctx.lineJoin = 'round';\n    ctx.lineCap = 'round';\n}\n\nfunction setupCanvas() {\n    // Set the size of the canvas and attach a listener\n    // to handle resizing.\n    resize()\n    window.addEventListener('resize', resize)\n\n    window.addEventListener('mousedown', function (e) {\n        currentMousePosition = pos(e)\n    });\n\n    window.addEventListener('mousemove', function (e) {\n        if (!e.buttons) return;\n        lastMousePosition = currentMousePosition\n        currentMousePosition = pos(e)\n        lastMousePosition && currentMousePosition &&\n            draw(lastMousePosition, currentMousePosition, color, true);\n    });\n}\n\nfunction pos(e) {\n    return [\n        e.pageX - canvas.offsetLeft,\n        e.pageY - canvas.offsetTop\n    ]\n}\n\ndocument.addEventListener('DOMContentLoaded', setup)\n\n\n\n// WEBPACK FOOTER //\n// ./client/whiteboard.js","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/events/events.js\n// module id = 2\n// module chunks = 0"],"sourceRoot":""}